{% extends "base.html" %}
{% load widget_tweaks %}
{% block title %}Nueva contraseña – MediDate{% endblock %}
{% block content %}
<div class="auth-wrap d-flex align-items-center py-5">
  <div class="auth-card p-4 p-lg-5 w-100">
    {% if validlink %}
      <h1 class="h4 fw-bold mb-3">Crea tu nueva contraseña</h1>
      <form method="post">{% csrf_token %}
        <div class="mb-3">
          <label class="form-label">Nueva contraseña</label>
          {{ form.new_password1|add_class:"form-control form-control-lg" }}
        </div>
        <div class="mb-3">
          <label class="form-label">Confirma la contraseña</label>
          {{ form.new_password2|add_class:"form-control form-control-lg" }}
        </div>
        <button class="btn btn-brand w-100 text-white">Actualizar contraseña</button>
      </form>
    {% else %}
      <h1 class="h5 fw-bold mb-2">Enlace no válido</h1>
      <p class="text-muted">El enlace es inválido o ha expirado. Solicita un nuevo restablecimiento.</p>
      <a class="btn btn-outline-secondary" href="{% url 'password_reset' %}">Volver a solicitar</a>
    {% endif %}
  </div>
</div>
{% endblock %}
